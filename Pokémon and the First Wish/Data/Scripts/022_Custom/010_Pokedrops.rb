def pbGetPokedrops(species)
  drops = {
    :SNIVY=>[:AROMAPETAL,:TWINE],
    :SERVINE=>[:AROMAPETAL,:TWINE],
    :SERPERIOR=>[:AROMAPETAL,:TWINE,:FAIRYDUST],
    :CHIMCHAR=>[:CHARCOAL,:ROUGHFUR],
    :MONFERNO=>[:CHARCOAL,:ROUGHFUR],
    :INFERNAPE=>[:CHARCOAL,:ROUGHFUR,:METALCOAT],
    :MUDKIP=>[:FRESHWATER,:SLIMYSCALES],
    :MARSHTOMP=>[:FRESHWATER,:SLIMYSCALES],
    :SWAMPERT=>[:FRESHWATER,:SLIMYSCALES,:EXPERTBELT],
    :BIDOOF=>[:ROUGHFUR],
    :BIBAREL=>[:ROUGHFUR,:FRESHWATER],
    :BUIZEL=>[:SHARPCLAW,:ROUGHFUR],
    :FLOATZEL=>[:SHARPCLAW,:ROUGHFUR],
    :HOOTHOOT=>[:PRETTYFEATHER],
    :NOCTOWL=>[:PRETTYFEATHER,:SHARPBEAK],
    :NATU=>[:PRETTYFEATHER],
    :XATU=>[:PRETTYFEATHER,:SHARPBEAK],
    :YANMA=>[:SILVERPOWDER],
    :YANMEGA=>[:SILVERPOWDER],
    :SEWADDLE=>[:TWINE,:SILVERPOWDER],
    :SWADLOON=>[:TWINE,:AROMAPETAL],
    :LEAVANNY=>[:TWINE,:AROMAPETAL],
    :FOONGUS=>[:TINYMUSHROOM,:SILVERPOWDER,:BALMMUSHROOM],
    :AMOONGUSS=>[:BIGMUSHROOM,:SILVERPOWDER,:BALMMUSHROOM],
    :EMOLGA=>[:PRETTYFEATHER,:CHARGEDSTONE],
    :DARUMAKA=>[:ROUGHFUR],
    :DARMANISLAM=>[:ROUGHFUR,:EXPERTBELT],
    :MIENFOO=>[:ROUGHFUR],
    :MIENSHAO=>[:ROUGHFUR],
    :DEERLING=>[:AROMAPETAL],
    :SAWSBUCK=>[:AROMAPETAL],
    :RALTS=>[:TWINE,:SPIRITAURA],
    :KIRLIA=>[:TWINE,:SPIRITAURA],
    :GARDEVOIR=>[:TWINE,:FAIRYDUST,:SPIRITAURA],
    :GALLADE=>[:TWINE,:SHARPCLAW,:SPIRITAURA],
    :ZORUA=>[:ROUGHFUR],
    :ZOROARK=>[:ROUGHFUR,:SPIRITAURA],
    :CLEFFA=>[:FAIRYDUST],
    :CLEFAIRY=>[:FAIRYDUST,:MOONSTONE],
    :CLEFABLE=>[:FAIRYDUST,:MOONSTONE],
    :SANDSHREW=>[:SOFTSAND],
    :SANDSLASH=>[:SOFTSAND,:SHARPCLAW],
    :GLIGAR=>[:SOFTSAND,:RAZORFANG],
    :GLISCOR=>[:RAZORFANG,:POISONBARB],
    :DUNSPARCE=>[:SLIMYSCALES,:CHALKYSTONE],
    :NUMEL=>[:CHALKYSTONE,:CHARCOAL],
    :CAMERUPT=>[:CHALKYSTONE,:CHARCOAL,:SOFTSAND],
    :ROGGENROLA=>[:CHALKYSTONE],
    :BOLDORE=>[:CHALKYSTONE,:GLOWINGCRYSTAL],
    :GIGALITH=>[:CHALKYSTONE,:GLOWINGCRYSTAL],
    :DWEBBLE=>[:SILVERPOWDER],
    :CRUSTLE=>[:SILVERPOWDER,:CHALKYSTONE],
    :DRILBUR=>[:CHALKYSTONE,:SOFTSAND,:SHARPCLAW],
    :EXCADRILL=>[:GLOWINGCRYSTAL,:SOFTSAND,:SHARPCLAW],
    :TYNAMO=>[:CHARGEDSTONE,:SLIMYSCALES],
    :EELEKTRIK=>[:CHARGEDSTONE,:SLIMYSCALES,:THUNDERSTONE],
    :EELEKTROSS=>[:CHARGEDSTONE,:SLIMYSCALES,:THUNDERSTONE],
    :PLUSLE=>[:CHARGEDSTONE,:SITRUSBERRY],
    :MINUN=>[:CHARGEDSTONE,:LUMBERRY],
    :TOGEPI=>[:FAIRYDUST,:LUCKYEGG],
    :TOGETIC=>[:FAIRYDUST,:PRETTYFEATHER,:SHINYSTONE],
    :TOGEKISS=>[:FAIRYDUST,:PRETTYFEATHER,:SHINYSTONE],
    :HOUNDOUR=>[:CHARCOAL,:ROUGHFUR],
    :HOUNDOOM=>[:CHARCOAL,:ROUGHFUR,:FIRESTONE],
    :PONYTA=>[:CHARCOAL,:ROUGHFUR],
    :RAPIDASH=>[:CHARCOAL,:ROUGHFUR,:FIRESTONE],
    :NIDORAN=>[:STICKYBARB],
    :NIDORINA=>[:STICKYBARB,:SOFTSAND,:MOONSTONE],
    :NIDOQUEEN=>[:STICKYBARB,:SOFTSAND,:MOONSTONE],
    :NIDORAN=>[:STICKYBARB],
    :NIDORINO=>[:STICKYBARB,:SOFTSAND,:MOONSTONE],
    :NIDOKING=>[:STICKYBARB,:SOFTSAND,:MOONSTONE],
    :TRUBBISH=>[:LEFTOVERS,:BERRIESANY],
    :GARBODOR=>[:LEFTOVERS,:BERRIESANY,:TWINE],
    :STANTLER=>[:ROUGHFUR,:STURDYANTLER],
    :WYRDEER=>[:ROUGHFUR,:SPIRITAURA,:STURDYANTLER],
    :HERACROSS=>[:SILVERPOWDER,:EXOARMOR],
    :PINSIR=>[:SILVERPOWDER,:EXOARMOR],
    :COMBEE=>[:HONEY,:SILVERPOWDER],
    :VESPIQUEN=>[:HONEY,:SILVERPOWDER],
    :MINCHINO=>[:SOFTFUR,:SILKSCARF],
    :CHINCHINO=>[:SOFTFUR,:SILKSCARF,:SHINYSTONE],
    :TAUROS=>[:ROUGHFUR,:MOOMOOMILK],
    :MILTANK=>[:SOFTFUR,:MOOMOOMILK],
    :SEVIPER=>[:SLIMYSCALES,:POISONBARB],
    :ZANGOOSE=>[:ROUGHFUR,:SHARPCLAW],
    :AZURILL=>[:SOAPYBUBBLES],
    :MARILL=>[:SOAPYBUBBLES,:FRESHWATER],
    :AZUMARILL=>[:SOAPYBUBBLES,:FRESHWATER],
    :CHINCHOU=>[:FRESHWATER,:CHARGEDSTONE],
    :LANTURN=>[:FRESHWATER,:CHARGEDSTONE],
    :BASCULIN=>[:FRESHWATER,:SLIMYSCALES],
    :BASCULEGION=>[:FRESHWATER,:SLIMYSCALES,:SPIRITAURA],
    :POLIWAG=>[:FRESHWATER],
    :POLIWHIRL=>[:FRESHWATER,:WATERSTONE,:KINGSROCK],
    :POLIWRATH=>[:FRESHWATER,:WATERSTONE],
    :POLITOED=>[:FRESHWATER,:KINGSROCK],
    :CORPHISH=>[:SOAPYBUBBLES,:EXOARMOR],
    :CRAWDAUNT=>[:SOAPYBUBBLES,:EXOARMOR],
    :SPIRITOMB=>[:FRESHWATER,:SPIRITAURA,:ODDKEYSTONE],
    :SNUBBULL=>[:NEVERMELTICE,:SHARPCLAW],
    :GRANBULL=>[:NEVERMELTICE,:SHARPCLAW],
    :CUBCHOO=>[:NEVERMELTICE],
    :BEARTIC=>[:NEVERMELTICE,:SHARPCLAW],
    :SNEASEL=>[:NEVERMELTICE,:PRETTYFEATHER,:SHARPCLAW],
    :WEAVILE=>[:NEVERMELTICE,:PRETTYFEATHER,:SHARPCLAW],
    :CRYOGONAL=>[:NEVERMELTICE],
    :SWINUB=>[:NEVERMELTICE,:CHALKYSTONE,:ROUGHFUR],
    :PILOSWINE=>[:NEVERMELTICE,:CHALKYSTONE,:ROUGHFUR],
    :MAMOSWINE=>[:NEVERMELTICE,:CHALKYSTONE,:ROUGHFUR],
    :RELICANTH=>[:FRESHWATER,:NEVERMELTICE,:CHALKYSTONE],
    :LUVDISC=>[:FRESHWATER,:SLIMYSCALES],
    :ALOMOMOLA=>[:FRESHWATER,:SLIMYSCALES],
    :AUDINO=>[:SITRUSBERRY],
    :KANGASKHAN=>[:SITRUSBERRY],
    :LUNATONE=>[:CHALKYSTONE],
    :SOLROCK=>[:CHALKYSTONE],
    :NOSEPASS=>[:CHALKYSTONE],
    :PROBOPASS=>[:CHALKYSTONE],
    :UNOWN=>[:RELICKEY],
    :CRANIDOS=>[:CHALKYSTONE],
    :RAMPARDOS=>[:CHALKYSTONE],
    :SHIELDON=>[:CHALKYSTONE],
    :BASTIODON=>[:CHALKYSTONE],
    :DUSKULL=>[:SPIRITAURA],
    :DUSCLOPS=>[:SPIRITAURA],
    :DUSKNOIR=>[:SPIRITAURA],
    :LITWICK=>[:SPIRITAURA],
    :LAMPENT=>[:SPIRITAURA,:CHARCOAL],
    :CHANDELURE=>[:SPIRITAURA,:CHARCOAL],
    :GOLETT=>[:METALCOAT,:SPIRITAURA],
    :GOLURK=>[:METALCOAT,:SPIRITAURA],
    :DURANT=>[:SILVERPOWDER],
    :HEATMOR=>[:AROMAPETAL],
    :DEINO=>[:DRAGONFANG],
    :ZWEILOUS=>[:DRAGONFANG],
    :HYDREIGON=>[:DRAGONFANG],
    :GIBLE=>[:DRAGONFANG,:CHALKYSTONE],
    :GABITE=>[:DRAGONFANG,:CHALKYSTONE],
    :GARCHOMP=>[:DRAGONFANG,:CHALKYSTONE],
    :DRUDDIGON=>[:DRAGONFANG],
    :TORNADUS=>[:RARECANDY],
    :THUNDURUS=>[:RARECANDY],
    :ENAMORUS=>[:RARECANDY],
    :LANDORUS=>[:RARECANDY],
    :HEATRAN=>[:RARECANDY],
    :JIRACHI=>[:RARECANDY],
    :CELEBI=>[:RARECANDY],
    :MELOETTA=>[:RARECANDY],
    :MANAPHY=>[:RARECANDY],
    :PHIONE=>[:RARECANDY],
    :LOTAD=>[:BLACKGLASSES]
  }
  return drops[species]
end

def pbSelectPokedrop(species)
  drops = pbGetPokedrops(species)
  chances = [0,0,0,0,0,0] # 60%
  chances += [1,1,1] if drops.length > 1 # 30%
  chances += [2] if drops.length > 2 # 10%
  ret = drops[chances.sample]
  if ret == :BERRIESANY
    ret = :ORANBERRY
    GameData::Item.each do |item|
      next unless item.is_berry?
      if rand(10) == 1
        ret = item
        break
      end
    end
  end
  return ret
end